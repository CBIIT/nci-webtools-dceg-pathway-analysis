
<html lang="en">
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-M48RG9F');</script>
    <!-- End Google Tag Manager -->
    <!-- Google Analytics -->
    <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-62346354-8', 'auto');
    ga('send', 'pageview');
    </script>
    <!-- End Google Analytics -->
    <title>Pathway Tool</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/multiple-select/1.1.0/multiple-select.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.1/css/select2.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://code.jquery.com/ui/1.11.4/themes/blitzer/jquery-ui.css" rel="stylesheet" type="text/css"/>
    <!-- popover -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/jquery.webui-popover/1.2.1/jquery.webui-popover.min.css">
    <link href="/common/css/style.css" rel="stylesheet" type="text/css"/>
    <link href="styles.css" rel="stylesheet" type="text/css"/>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js" type="application/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.14.0/jquery.validate.js" type="application/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.14.0/additional-methods.js" type="application/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/multiple-select/1.1.0/jquery.multiple.select.js" type="application/javascript"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js" type="application/javascript"></script>
    <!-- popover -->
    <script src="https://cdn.jsdelivr.net/jquery.webui-popover/1.2.1/jquery.webui-popover.min.js"></script>

<!--
    <script src="/common/js/popover-functions.js" type="application/javascript"></script>
-->
    <script src="main.js" type="application/javascript"></script>
    <!-- <script>
      $( function() {
        $( document ).tooltip();
      } );
    </script> -->
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M48RG9F"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <header>
      <a href="http://dceg.cancer.gov/" target="_blank"><img src="/common/images/DCEG-logo.svg" alt="Division of Cancer Epidemiology &amp; Genetics" class="division-logo"/></a>
      <hr/>
      <div>
        <p class="title">
          Pathway Analysis Tool
        </p>
      </div>
    </header>


    <div id="content">
      <div id="tabs">
        <ul>
          <li><a href="#home-tab">Home</a></li>
          <li><a href="#study-tab">Study</a>
          <li><a href="#help-tab">Help</a></li>
        </ul>

        <div id="home-tab">
          <div class="subHeading">
            <p>ARTP2 (Adaptive Rank Truncated Product - Version 2) is an R package of biological pathway association analysis or pathway meta-analysis for genome-wide association studies (GWAS). It also provides tools for gene-level association test as a special case. ARTP2 is an enhanced version of two previously released packages ARTP and AdaJoint.</p>
            <p><span>This online application was developed to assist epidemiological researchers for testing the association between complex disease/trait outcome and predefined pathways when only SNP-level summary statistics from one or multiple GWAS were available. We provide reference panel data incorporated from the </span><a href="http://www.1000genomes.org/">1000 Genomes Project</a><span> to facilitate the studies on various populations. We also support over 4,700 pathways predefined by the </span><a href="http://software.broadinstitute.org/gsea/msigdb/collections.jsp">BROAD Institute</a><span>.</span></p>
          </div>
        </div>

        <div id="study-tab">
            <div id="errorDisplay" class="box-error"></div>
            <div id="successBox"><span class="ui-icon ui-icon-circle-check"></span>
              <div id="message"></div>
            </div>
            <div id="dialogElm"></div>
            <form name="pathForm" action="calculate/" method="POST" enctype="multipart/form-data">
              <fieldset>
                <legend data-term="study" class="termToDefine" data-title="Summary Data" data-content="ADD DESCRIPTION">Summary Data</legend>
                <div id="Family_Selection" data-family-type="binomial">
                    <label>Family:</label>
                    <input id="binomial" type="radio" name="family" value="binomial" checked="checked" onclick="handleBinomial()" />
                    <label for="binomial">Binomial</label>
                    <input id="gaussian" type="radio" name="family" value="gaussian" onclick="handleGaussian()"/>
                    <label for="gaussian">Gaussian</label>
                </div>
                <div id="studyEntry"></div>
                <button title="study" class="addControl">Add Study</button>
              </fieldset>
              <fieldset>
                <legend data-term="file_pathway" class="termToDefine" data-title="Select or upload the pathway file:" data-content="ADD DESCRIPTION">Select or upload the pathway file:</legend>
                <ul>
                  <li>
                    <input id="database_pathway_option" type="radio" name="pathway_type" value="database_pathway" checked=""/>
                    <label for="database_pathway_option">Select from&nbsp;<span id="pop-list">existing pathways:</span></label>
                    <div class="input ui-widget">
                      <label for="database_pathway">Search</label>
                      <input id="database_pathway" name="database_pathway"/>
                    </div>
                  </li>
                  <li>
                    <input id="file_pathway_option" type="radio" name="pathway_type" value="file_pathway"/>
                    <label for="file_pathway_option">Upload from the client:</label>
                    <div class="input">
                      <label for="file_pathway">Upload</label>
                      <input id="file_pathway" type="file" name="file_pathway"/>
                    </div>
                  </li>
                </ul>
              </fieldset>
              <fieldset>
                <legend data-term="population" class="termToDefine" data-title="Select the population:" data-content="ADD DESCRIPTION">Select the population:</legend>
                <ul>
                  <li>
                    <label for="super_population">Super Population:</label>
                    <div class="input">
                      <select id="super_population" name="super_population" required="">
                        <option value="">-- Select a super population --</option>
                      </select>
                    </div>
                  </li>
                  <li>
                    <label for="population">Sub Population:</label>
                    <div class="input">
                      <select id="population" name="population" required="" multiple="multiple"></select>
                    </div>
                  </li>
                </ul>
              </fieldset>
              <fieldset>
                <legend>Set the following options:</legend>
                <ul>
                  <li>
                    <label data-term="nperm" for="nperm" class="termToDefine" data-title="nperm" data-content="ADD DESCRIPTION">nperm:</label>
                    <div class="input">
                      <input id="nperm" type="text" name="nperm" value="1e+5"/>
                    </div>
                  </li>
                  <li>
                    <div id="refinep_div" class="input">
                      <input id="refinep" type="checkbox" name="refinep"/>
                      <label for="refinep">Refine p-Value</label>
                    </div>
                  </li>
                  <li>
                    <label data-term="miss_rate" for="miss_rate" class="termToDefine" data-title="snp.miss.rate" data-content="ADD DESCRIPTION">snp.miss.rate:</label>
                    <div class="input">
                      <input id="miss_rate" type="number" name="miss_rate" value="0.05" required=""/>
                    </div>
                  </li>
                  <li>
                    <label data-term="maf" for="maf" class="termToDefine" data-title="maf" data-content="ADD DESCRIPTION">maf:</label>
                    <div class="input">
                      <input id="maf" type="number" name="maf" value="0.05" required=""/>
                    </div>
                  </li>
                  <li>
                    <label data-term="hwep" for="hwep" class="termToDefine" data-title="HWE.p" data-content="ADD DESCRIPTION">HWE.p:</label>
                    <div class="input">
                      <input id="hwep" type="text" name="hwep" value="1e-5" required=""/>
                    </div>
                  </li>
                  <li>
                    <label data-term="gene" for="gene" class="termToDefine" data-title="Gene.R2" data-content="ADD DESCRIPTION">Gene.R2:</label>
                    <div class="input">
                      <input id="gene" type="number" name="gene" value="0.95" required=""/>
                    </div>
                  </li>
                  <li>
                    <label data-term="chr" for="chr" class="termToDefine" data-title="Chr.R2" data-content="ADD DESCRIPTION">Chr.R2:</label>
                    <div class="input">
                      <input id="chr" type="number" name="chr" value="0.95" required=""/>
                    </div>
                  </li>
                  <li>
                    <label data-term="gene_subset" for="gene_subset" class="termToDefine" data-title="rm.gene.subset" data-content="ADD DESCRIPTION">rm.gene.subset:</label>
                    <div class="input">
                      <input id="gene_subset" type="checkbox" name="gene_subset"/>
                    </div>
                  </li>
                  <li>
                    <label data-term="snp_n" for="snp_n" class="termToDefine" data-title="inspect.snp.n" data-content="ADD DESCRIPTION">inspect.snp.n:</label>
                    <div class="input">
                      <input id="snp_n" type="number" name="snp_n" value="5" required=""/>
                    </div>
                  </li>
                  <li>
                    <label data-term="snp_percent" for="snp_percent" class="termToDefine" data-title="inspect.snp.percent" data-content="ADD DESCRIPTION">inspect.snp.percent:</label>
                    <div class="input">
                      <input id="snp_percent" type="number" name="snp_percent" value="0" required=""/>
                    </div>
                  </li>
                  <li>
                    <label data-term="gene_n" for="gene_n" class="termToDefine" data-title="inspect.gene.n" data-content="ADD DESCRIPTION">inspect.gene.n:</label>
                    <div class="input">
                      <input id="gene_n" type="number" name="gene_n" value="10" required=""/>
                    </div>
                  </li>
                  <li>
                    <label data-term="gene_percent" for="gene_percent" class="termToDefine" data-title="inspect.gene.percent" data-content="ADD DESCRIPTION">inspect.gene.percent:</label>
                    <div class="input">
                      <input id="gene_percent" type="number" name="gene_percent" step=".01" value="0.05" required=""/>
                    </div>
                  </li>
                  <li>
                    <label data-term="Excluded SNPs File" for="excluded_snp_file" class="termToDefine" data-title="Excluded SNP File" data-content="ADD DESCRIPTION">Excluded SNP File</label>
                    <div class="input">
                      <input id="include_excluded_snp" type="checkbox" name="include_excluded_snp" onclick="clickCheckBox()"/>
                      <input id="excluded_snp" type="file" name="excluded_snp" class="inputElementsOnSameLine" style="visibility:hidden;"/>
                    </div>
                  </li>
                </ul>
              </fieldset>
              <fieldset>
                <legend>Results:</legend>
                <ul>
                  <li>
                    <label for="email">E-mail (Results will be sent here):</label>
                    <div class="input">
                      <input id="email" type="email" name="email" required=""/>
                    </div>
                  </li>
                </ul>
              </fieldset>
              <div class="buttonGroup">
                <button id="calculate" type="button">Calculate</button>
                <button id="reset" type="button">Reset</button>
                <progress value="0"></progress>
              </div>
              <div id="spinner"></div>
            </form>
            <div class="subHeading">
              <p>If you publish results that use ARTP2, please cite:</p>
              <p>Zhang H, Wheeler W, Hyland LP, Yang Y, Shi J, Chatterjee N, Yu K. A powerful procedure for pathway-based meta-analysis using summary statistics identifies multiple pathways associated with type II diabetes.</p>
              <p>Yu K, Li Q, Bergen AW, Pfeiffer RM, Rosenberg PS, Caporaso N, Kraft P, Chatterjee N. (2009) Pathway analysis by adaptive combination of P-values. Genet Epidemiol 33(8): 700 - 709</p>
              <p>Zhang H, Shi J, Liang F, Wheeler W, Stolzenberg-Solomon R, Yu K. (2014) A fast multilocus test with adaptive SNP selection for large-scale genetic association studies. European Journal of Human Genetics, 22, 696 - 702</p>
            </div>
          </div>

        <div id="help-tab">
          <div class="subHeading">
            <p> 05/26/2017 : NCIATWP-553 --> Han will wait until the UI changes are completed so he can include the screenshot in the help content</p>
          </div>
        </div>
        <div class="notice">
          Site is currently under section 508 review. This site is undergoing remediation for compliance with section 508.
          In the interim, should you require any accessibility assistance with any content, please contact us at <a href="mailto:NCIPathwayAnalysisToolWebSupport@mail.nih.gov?subject=Pathway Tool 508">NCIPathwayAnalysisToolWebSupport@mail.nih.gov</a>. Thank you!
        </div>
      </div>
    </div>

    <footer>
      <ul>
        <li><a href="http://www.cancer.gov/" target="_blank" title="National Cancer Institute Home">Home</a></li>
        <div class="spacer"></div>
        <li><a href="mailto:NCIPathwayAnalysisToolWebSupport@mail.nih.gov" target="_blank" title="Contact us for technical support">Support</a></li>
        <div class="spacer"></div>
        <li><a href="http://www.cancer.gov/global/web/policies" target="_blank" title="Web Policies">Policies</a></li>
        <div class="spacer"></div>
        <li><a href="http://www.cancer.gov/global/web/policies/accessibility" target="_blank" title="Document Viewers, Multimedia Players and Accessibility Policy">Accessibility</a></li>
        <div class="spacer"></div>
        <li><a href="http://www.cancer.gov/global/web/policies/foia" target="_blank" title="Freedom of Information Act (FOIA)">FOIA</a></li>
        <div class="spacer"></div>
        <li><a target="_blank" href="http://www.dhhs.gov/">Department of Health and Human Services</a></li><br/><br/>
        <li><a target="_blank" href="http://www.nih.gov/">National Institutes of Health</a></li>
        <div class="spacer"></div>
        <li><a target="_blank" href="http://www.cancer.gov/">National Cancer Institute</a></li>
        <div class="spacer"></div>
        <li><a target="_blank" href="http://www.usa.gov/">USA.gov</a></li>
      </ul>NIH...Turning Discovery Into Health<sup>&reg;</sup>
    </footer>
    <div id="snippets">
      <!-- dynamic template for a study entry-->
      <!-- display in accordion/collapsible manner-->
      <div class="studies">
        <div class="studyTitle">Study #</div>
        <ul>
          <li>
            <div class="warning">To avoid issues, please keep file sizes under 20MB. If your file is larger than this, consider compressing it or splitting it into several analyses.</div>
          </li>
          <li>
            <label for="study">Browse and select study file:</label>
            <div class="input">
              <input id="study" type="file" name="study" />
              <input id="studyProxy" type="button" name="studyProxy" value="Choose File"></input>
              <input id="loadAndCheckButton" type="button" name="loadAndCheck" value="Load &amp; Check" />
            </div>
            <div class="input">
              <label id="loadAndCheckLabel" class="spaceBetweenChooseFileButtonAndText"> No file loaded</label>
            </div>
          </li>
          <li>
            <label data-term="lambda" for="lambda" class="termToDefine" data-title="Lambda" data-content="ADD DESCRIPTION">Lambda (&lambda;):</label>
            <div class="input">
              <input id="lambda" type="text" name="lambda" value="1.0" required=""/>
            </div>
          </li>
          <li>
            <div id="size_titles" class="input">
              <div id="caseTitleSize">
                 <p>Sample size of case</p>
              </div>

              <div id="caseTitleControl">
                <p>Sample size of control</p>
              </div>
            </div>
          </li>
          <li>
            <div id="place_holder_for_study_resources" class="inputSizes"></div>
          </li>
      <li>
        <input id="resetStudy" type="button" class="resetStudyButton" name="resetStudy" value="Reset Study" />
      </li>

      </div>

      <li class="studyResources">
        <div style="display:flex; align-items: center">
          <label id="size_label" for="sample_siz">Resource</label>
          <div class="input">
            <input id="sample_size"  type="number" name="sample_size" min="1" value=""/>
            <input id="control_size" type="number" name="control_size" min="1" value="" />
          </div>
        </div>
      </li>
    </div>
  </body>
</html>
