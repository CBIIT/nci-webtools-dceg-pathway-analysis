section#tab-tool.tab-pane
    h2.section-title Tool
    .section-content
        .container
            #errorDisplay.alert.alert-danger.box-error
            .alert.alert-success#successBox
                span.ui-icon.ui-icon-circle-check
                #message
            #dialogElm
            form.form-horizontal(name='pathForm', action='calculate/', method='POST', enctype='multipart/form-data')
                fieldset
                    legend.termToDefine(data-term="study") Study Selection
                    #studyEntry
                    button.addControl(title="study") Add Study
                fieldset
                    legend.termToDefine(data-term="file_pathway") Select or upload the pathway file:
                    .col-xs-12.col-sm-6
                        .radio                
                            label(for="database_pathway_option")
                                input#database_pathway_option(type='radio', name='pathway_type', value='database_pathway', checked='')
                                | Select from
                                span#pop-list.termToDefine  existing pathways:
                        input#database_pathway(name='database_pathway', aria-label="Search", placeholder="Search")
                    .col-xs-12.col-sm-6
                        .radio
                            label(for="file_pathway_option")
                                input#file_pathway_option(type='radio', name='pathway_type', value='file_pathway')
                                | Upload from the client:
                            input#file_pathway(type='file', name='file_pathway', aria-label="Upload", placeholder="Upload")
                fieldset
                    legend.termToDefine(data-term="population") Select the population:
                    .form-group
                        label.col-xs-12.col-sm-6(for="super_population") Super Population:
                        .col-xs-12.col-sm-5
                            select#super_population(name="super_population",required='')
                              option(value='') -- Select a super population --
                    .form-group
                        label.col-xs-12.col-sm-6(for="population") Sub Population:
                        .col-xs-12.col-sm-5.hide
                            select#population(name="population",required='', multiple)
                fieldset
                    legend Set the following options:
                    .form-group
                        label.col-xs-12.col-sm-6.termToDefine(data-term="nperm", for='nperm') nperm:
                        .col-xs-12.col-sm-5
                            input#nperm(type='text', name='nperm', value='1e+5')
                        .col-xs-12.col-sm-11
                            label(for='refinep')
                                input#refinep(type='checkbox', name='refinep')
                                | Refine p-Value
                    .form-group
                        label.col-xs-12.col-sm-6.termToDefine(data-term="miss_rate", for='miss_rate') snp.miss.rate:
                        .col-xs-12.col-sm-5
                            input#miss_rate(type='number', name='miss_rate', value='0.05', required='')
                    .form-group
                        label.col-xs-12.col-sm-6.termToDefine(data-term="maf", for='maf') maf:
                        .col-xs-12.col-sm-5
                            input#maf(type='number', name='maf', value='0.05', required='')
                    .form-group
                        label.col-xs-12.col-sm-6.termToDefine(data-term="hwep", for='hwep') HWE.p:
                        .col-xs-12.col-sm-5
                            input#hwep(type='text', name='hwep', value='1e-5', required='')
                    .form-group
                        label.col-xs-12.col-sm-6.termToDefine(data-term="gene", for='gene') Gene.R2:
                        .col-xs-12.col-sm-5
                            input#gene(type='number', name='gene', value='0.95', required='')
                    .form-group
                        label.col-xs-12.col-sm-6.termToDefine(data-term="chr", for='chr') Chr.R2:
                        .col-xs-12.col-sm-5
                            input#chr(type='number', name='chr', value='0.95', required='')
                    .form-group
                        label.col-xs-10.col-sm-6.termToDefine(data-term="gene_subset", for='gene_subset') rm.gene.subset:
                        .col-xs-2
                            input#gene_subset(type='checkbox', name='gene_subset')
                    .form-group
                        label.col-xs-12.col-sm-6.termToDefine(data-term="snp_n", for='snp_n') inspect.snp.n:
                        .col-xs-12.col-sm-5
                            input#snp_n(type='number', name='snp_n', value='5', required='')
                    .form-group
                        label.col-xs-12.col-sm-6.termToDefine(data-term="snp_percent", for='snp_percent') inspect.snp.percent:
                        .col-xs-12.col-sm-5
                            input#snp_percent(type='number', name='snp_percent', value='0', required='')
                    .form-group
                        label.col-xs-12.col-sm-6.termToDefine(data-term="gene_n", for='gene_n') inspect.gene.n:
                        .col-xs-12.col-sm-5
                            input#gene_n(type='number', name='gene_n', value='10', required='')
                    .form-group
                        label.col-xs-12.col-sm-6.termToDefine(data-term="gene_percent", for='gene_percent') inspect.gene.percent:
                        .col-xs-12.col-sm-5
                            input#gene_percent(type='number', name='gene_percent', step=".01", value='0.05', required='')
                fieldset
                    legend Results:
                    .form-group
                    label.col-xs-12.col-sm-6(for='email') E-mail (Results will be sent here):
                    .col-xs-12.col-sm-5   
                        input#email(type='email', name='email', required='')

                .buttonGroup
                    button#calculate(type='button') Calculate
                    button#reset(type='button') Reset
                    progress(value='0')
            .alert.alert-info
                p If you publish results that use ARTP2, please cite:
                p Zhang H, Wheeler W, Hyland LP, Yang Y, Shi J, Chatterjee N, Yu K. A powerful procedure for pathway-based meta-analysis using summary statistics identifies multiple pathways associated with type II diabetes.
                p Yu K, Li Q, Bergen AW, Pfeiffer RM, Rosenberg PS, Caporaso N, Kraft P, Chatterjee N. (2009) Pathway analysis by adaptive combination of P-values. Genet Epidemiol 33(8): 700 - 709
                p Zhang H, Shi J, Liang F, Wheeler W, Stolzenberg-Solomon R, Yu K. (2014) A fast multilocus test with adaptive SNP selection for large-scale genetic association studies. European Journal of Human Genetics, 22, 696 - 702
            .alert.alert-warning
                | Site is currently under section 508 review. This site is undergoing remediation for compliance with section 508.
                | In the interim, should you require any accessibility assistance with any content, please contact us at 
                a(href="mailto:NCIPathwayAnalysisToolWebSupport@mail.nih.gov?subject=Pathway Tool 508") NCIPathwayAnalysisToolWebSupport@mail.nih.gov
                | . Thank you!
    #spinner
